<?xml version="1.0" encoding="utf-8"?>

<odoo>
    <data>
        <record id="group_sale_salesman_region_leads_europe" model="res.groups">
            <field name="name">See region Leads_Europe</field>
            <field name="category_id" ref="base.module_category_sales_management"/>
            <field name="implied_ids" eval="[(4, ref('sales_team.group_sale_salesman'))]"/>
        </record>
        <record id="group_sale_salesman_region_leads_us" model="res.groups">
            <field name="name">See region Leads_US</field>
            <field name="category_id" ref="base.module_category_sales_management"/>
            <field name="implied_ids" eval="[(4, ref('sales_team.group_sale_salesman'))]"/>
        </record>
        <record id="group_sale_salesman_region_leads_ua" model="res.groups">
            <field name="name">See region Leads_UA</field>
            <field name="category_id" ref="base.module_category_sales_management"/>
            <field name="implied_ids" eval="[(4, ref('sales_team.group_sale_salesman'))]"/>
        </record>

        <record id="model_crm_expected_income_rule_personal_lead" model="ir.rule">
            <field name="name">Forecast Personal</field>
            <field ref="model_crm_expected_income" name="model_id"/>
            <field name="domain_force">['|',('saleperson','=',user.id),('saleperson','=',False)]</field>
            <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman'))]"/>
        </record>

        <record id="model_crm_expected_income_rule_all_lead" model="ir.rule">
            <field name="name">Forecast All Leads</field>
            <field ref="model_crm_expected_income" name="model_id"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman_all_leads'))]"/>
        </record>

        <record id="model_crm_expected_income_rule_region_europe" model="ir.rule">
            <field name="name">Region Forecast_Europe</field>
            <field ref="model_crm_expected_income" name="model_id"/>
            <field name="domain_force">
            [ '|','|','|','|', ('saleperson','=',user.id), ('saleperson','=',False),
            ('partner_id', '=',False),
            ('region.code', '=',False),
            ('region.code', 'in',['AL','AD','AM','AZ','BY','BE','BA','BG','HR','CY','CZ','DK','EE','FI','FR','GE','DE','GR','HU','IS','IE','IT','KZ','LV','LI','LT','LU','MK','MT','MD','MC','ME','NL','AN','NO','PL','PT','RO','SM','RS','SK','SI','ES','SE','CH','TR','GB'])]
            </field>
            <field name="groups" eval="[(4, ref('group_sale_salesman_region_leads_europe'))]"/>
        </record>

        <record id="model_crm_expected_income_rule_region_us" model="ir.rule">
            <field name="name">Region Forecast_US</field>
            <field ref="model_crm_expected_income" name="model_id"/>
            <field name="domain_force">
            [ '|','|','|','|', ('saleperson','=',user.id), ('saleperson','=',False),
            ('partner_id', '=',False),
            ('region.code', '=',False),
            ('region.code', '=','US')]
            </field>
            <field name="groups" eval="[(4, ref('group_sale_salesman_region_leads_us'))]"/>
        </record>


        <record id="crm_region_leads_europe" model="ir.rule">
            <field name="name">Region Leads_Europe</field>
            <field ref="model_crm_lead" name="model_id"/>
            <field name="domain_force">
            [ '|','|','|','|','|','|', ('user_id','=',user.id), ('user_id','=',False),
            ('partner_id', '=',False),
            ('country_id.code', '=',False),
            ('company_id', 'child_of', [user.company_id.id]),
            ('country_id.code', 'in',['AL','AD','AM','AZ','BY','BE','BA','BG','HR','CY','CZ','DK','EE','FI','FR','GE','DE','GR','HU','IS','IE','IT','KZ','LV','LI','LT','LU','MK','MT','MD','MC','ME','NL','AN','NO','PL','PT','RO','SM','RS','SK','SI','ES','SE','CH','TR','GB']),
            ('message_partner_ids', 'in', [user.partner_id.id])]
            </field>
            <field name="groups" eval="[(4, ref('group_sale_salesman_region_leads_europe'))]"/>
        </record>

        <record id="crm_region_leads_us" model="ir.rule">
            <field name="name">Region Leads_US</field>
            <field ref="model_crm_lead" name="model_id"/>
            <field name="domain_force"> 
            [ '|','|','|','|','|','|','|', ('user_id','=',user.id), ('user_id','=',False),
            ('partner_id', '=',False),
            ('company_id', 'child_of', [user.company_id.id]), ('country_id','=',False),
            ('country_id.code', '=',False),
            ('country_id.code', '=','US'), 
            ('message_partner_ids', 'in', [user.partner_id.id])]
            </field>
            <field name="groups" eval="[(4, ref('group_sale_salesman_region_leads_us'))]"/>
        </record>

        <record id="crm_region_leads_ua" model="ir.rule">
            <field name="name">Region Leads_UA</field>
            <field ref="model_crm_lead" name="model_id"/>
            <field name="domain_force"> 
            [ '|','|','|','|','|','|','|', ('user_id','=',user.id), ('user_id','=',False),
            ('partner_id', '=',False),
            ('company_id', 'child_of', [user.company_id.id]), ('country_id','=',False),
            ('country_id.code', '=',False),
            ('country_id.code', '=','UA'), 
            ('message_partner_ids', 'in', [user.partner_id.id])]
            </field>
            <field name="groups" eval="[(4, ref('group_sale_salesman_region_leads_ua'))]"/>
        </record>

        <record id="model_crm_expected_income_rule_region_ua" model="ir.rule">
            <field name="name">Region Forecast_UA</field>
            <field ref="model_crm_expected_income" name="model_id"/>
            <field name="domain_force">
            [ '|','|','|','|', ('saleperson','=',user.id), ('saleperson','=',False),
            ('partner_id', '=',False),
            ('region.code', '=',False),
            ('region.code', '=','UA')]
            </field>
            <field name="groups" eval="[(4, ref('group_sale_salesman_region_leads_ua'))]"/>
        </record>

    </data>

</odoo>
